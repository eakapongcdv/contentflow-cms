/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;
/* ---------- ZPELL THEME TOKENS ---------- */
:root{
  --zp-primary: #34bcb1;             /* Zpell teal */
  --zp-navy:    #0f2d53;             /* Deep navy */
  --zp-link:    #6d6d6d;             /* Purple link */
  --zp-bg:      #ffffff;             /* App background */
  --zp-surface: #ffffff;             /* Card surface */
  --zp-muted:   #6b7280;             /* Muted text */
}
@media (prefers-color-scheme: dark){
  :root{
    --zp-bg:#0b1424;
    --zp-surface:#0f1b31;
    --zp-muted:#92a0b5;
  }
}

/* ---------- BASE ---------- */
@layer base{
  html, body{ height:100%; }
  html { font-size: 125%; } /* 1rem = 20px (จาก 16px เดิม) */
  body {
    @apply font-sans antialiased text-black text-base;
    background: linear-gradient(rgb(213, 243, 237) 30%, rgba(229, 255, 250, 0.6) 54%, rgb(240, 255, 252) 100%);

  }

  h1{@apply text-2xl md:text-3xl font-bold tracking-wide;}
  h2{@apply text-xl md:text-2xl font-bold tracking-wide;}
  h3{@apply text-lg md:text-xl font-semibold;}

  a{ color: var(--zp-link); }
  a:hover{ color: color-mix(in srgb, var(--zp-link) 80%, black); }

  ::selection{ background: color-mix(in srgb, var(--zp-primary) 28%, white); }

  img{ @apply max-w-full h-auto; }
}

/* ---------- COMPONENTS (Tailwind @apply) ---------- */
@layer components{
  /* Layout helpers */
  .section{@apply py-6 sm:py-5;}
  .container-narrow{@apply max-w-6xl mx-auto px-4 sm:px-6;}

  /* Cards */
  .card{@apply rounded-2xl border border-gray-200/70 shadow-sm;}
  .shadow-card{@apply shadow-[0_1px_2px_rgba(0,0,0,.06),0_10px_30px_rgba(15,45,83,.08)];}

  /* Chips */
  .chip{@apply inline-flex items-center gap-1 text-[11px] px-2 py-0.5 rounded-full;}
  .chip-emerald{@apply bg-emerald-50 text-emerald-700;}
  .chip-sky{@apply bg-sky-50 text-sky-700;}
  .chip-gray{@apply bg-gray-100 text-gray-700;}

  /* Brand utilities (CSS vars + utilities) */
  .bg-zpell{ background-color: var(--zp-primary); }
  .text-zpell{ color: var(--zp-primary); }
  .border-zpell{ border-color: var(--zp-primary); }

  /* Buttons */
  .btn{
    @apply inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-medium transition-colors
           disabled:opacity-60 disabled:cursor-not-allowed;
  }
  .btn-zpell{ color:#fff; background: var(--zp-primary); }
  .btn-zpell:hover{ background: color-mix(in srgb, var(--zp-primary) 90%, black); }

  .btn-outline-zpell{
    color: var(--zp-primary);
    border: 1px solid var(--zp-primary);
    background: transparent;
  }
  .btn-outline-zpell:hover{
    background: color-mix(in srgb, var(--zp-primary) 12%, white);
  }

  /* Inputs (use with <input class="inp">) */
  .inp{
    @apply w-full rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm
           placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400;
  }
  /* Fine-tune with theme color */
  .inp:focus{
    border-color: var(--zp-primary);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--zp-primary) 55%, transparent);
  }

  /* Topbar (ถ้าอยากทำเฮดเดอร์สี ZPELL) */
  .topbar{ background: var(--zp-primary); @apply text-white; }
  .topbar .navlink{ @apply px-3 py-2 rounded-md text-sm/5 hover:bg-white/10; }

  /* Search result card styles */
  .search-card{@apply card p-4 shadow-card hover:shadow-lg transition-shadow;}
  .search-left-thumb{@apply h-14 w-14 rounded-md bg-gray-100 overflow-hidden flex items-center justify-center shrink-0;}
  .search-title{@apply font-medium leading-tight;}
  .search-desc{@apply text-sm text-gray-600 mt-2 line-clamp-2;}

  /* Voice Search Modal (ธีม ZPELL) */
  .voice-backdrop{@apply fixed inset-0 bg-black/50 z-[60];}
  .voice-dialog{
    @apply fixed inset-x-4 bottom-8 sm:inset-0 sm:m-auto sm:max-w-md z-[61]
           rounded-2xl p-5 border border-emerald-100;
    background: var(--zp-surface);
    box-shadow: 0 8px 30px rgba(15,45,83,.25);
  }
  .voice-header{@apply flex items-center justify-between;}
  .voice-title{@apply text-base font-semibold;}
  .voice-body{@apply mt-4;}
  .voice-cta{@apply mt-5 grid grid-cols-2 gap-3;}

  /* Recording pulse */
  .pulse{
    position: relative;
    width: 84px; height: 84px; margin: 0 auto;
    border-radius: 9999px;
    background: radial-gradient(closest-side, var(--zp-primary), color-mix(in srgb,var(--zp-primary) 40%, white));
    animation: pulse 2s ease-out infinite;
    box-shadow: 0 0 0 0 rgba(52,188,177,.7);
  }
  .pulse.paused{ animation-play-state: paused; box-shadow: none; opacity:.7; }
}

/* ---------- UTILITIES ---------- */
@layer utilities{
  /* Full-bleed container (ใช้สำหรับ iframe เต็มความกว้าง) */
  .container-edge{ @apply w-screen relative left-1/2 right-1/2 -mx-[50vw]; }
}

/* ---------- ANIMATIONS ---------- */
@keyframes pulse{
  0%   { box-shadow: 0 0 0 0 rgba(52,188,177,.55); transform: scale(1); }
  70%  { box-shadow: 0 0 0 25px rgba(52,188,177,0); transform: scale(1.04); }
  100% { box-shadow: 0 0 0 0 rgba(52,188,177,0); transform: scale(1); }
}

.container-narrow{@apply max-w-6xl mx-auto px-4 sm:px-6;}
.section{@apply py-5 sm:py-6;}
.card{@apply bg-white rounded-2xl shadow-card overflow-hidden;}
.btn{@apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium;}
.btn-primary{@apply bg-emerald-700 text-white hover:bg-emerald-800;}
.input{@apply w-full rounded-lg border px-3 py-2 text-sm;}
.label{@apply text-sm font-medium mb-1;}
